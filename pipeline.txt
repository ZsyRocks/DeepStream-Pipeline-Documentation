[application]
enable-perf-measurement=1
perf-measurement-interval-sec=5

[tiled-display]
enable=1
rows=2
columns=2
width=1280
height=720
gpu-id=0
nvbuf-memory-type=0

[source0]
enable=1
type=2
uri=file:/home/vates/myvideo.mp4 # Adjust accordingly
num-sources=1
gpu-id=0
cudadec-memtype=0

[source1]
enable=1
type=2
uri=file:/home/vates/myvideo.mp4 # Adjust accordingly
num-sources=1
gpu-id=0
cudadec-memtype=0

[source2]
enable=1
type=2
uri=file:/home/vates/myvideo.mp4 # Adjust accordingly
num-sources=1
gpu-id=0
cudadec-memtype=0

[source3]
enable=1
type=2
uri=file:/home/vates/myvideo.mp4 # Adjust accordingly
num-sources=1
gpu-id=0
cudadec-memtype=0

[sink0]
enable=1
type=2
sync=0 # sync=1 means it will match the source FPS and process it realtime, but sync=0 means the pipeline will process the video as fast as the GPU can handle
gpu-id=0
nvbuf-memory-type=0

[sink1]
enable=1
type=3
container=1
codec=1
enc-type=0
sync=0 # sync=1 means it will match the source FPS and process it realtime, but sync=0 means the pipeline will process the video as fast as the GPU can handle
bitrate=4000000
profile=0
output-file=/home/vates/output_tiled.mp4
nvbuf-memory-type=0

[osd]
enable=1
gpu-id=0
border-width=3
text-size=25
text-color=1;1;1;1
text-bg-color=0.3;0.3;0.3;1
font=Serif
show-clock=0
nvbuf-memory-type=0

[streammux]
gpu-id=0
live-source=0
batch-size=4
batched-push-timeout=10000  # Adjust according to source latency
width=1270
height=720
enable-padding=0
nvbuf-memory-type=0

[primary-gie]
enable=1
gpu-id=0
model-engine-file=/opt/nvidia/deepstream/deepstream-7.1/samples/models/Primary_Detector/best_b4.onnx_b4_gpu0_fp16.engine
labelfile-path=/opt/nvidia/deepstream/deepstream-7.1/samples/models/Primary_Detector/labels.txt
batch-size=4
interval=0
gie-unique-id=1
nvbuf-memory-type=0
config-file=config_infer_primary.txt
bbox-border-color0=1;0;0;1
bbox-border-color1=0;1;1;1
bbox-border-color2=0;0;1;1
bbox-border-color3=0;1;0;1

[tracker]
enable=1
tracker-width=640
tracker-height=384
ll-lib-file=/opt/nvidia/deepstream/deepstream-7.1/lib/libnvds_nvmultiobjecttracker.so

# ll-config-file=/opt/nvidia/deepstream/deepstream-7.1/samples/configs/deepstream-app/config_tracker_IOU.yml

ll-config-file=/opt/nvidia/deepstream/deepstream-7.1/samples/configs/deepstream-app/config_tracker_NvDCF_perf.yml

# ll-config-file=/opt/nvidia/deepstream/deepstream-7.1/samples/configs/deepstream-app/config_tracker_NvDCF_max_perf.yml

# ll-config-file=/opt/nvidia/deepstream/deepstream-7.1/samples/configs/deepstream-app/config_tracker_NvDCF_accuracy.yml   # (NvDCF_accuracy uses a reID model which does not have an engine file built, need to install TAO-toolkit to build engine from the reID model .etlt file)

# ll-config-file=/opt/nvidia/deepstream/deepstream-7.1/samples/configs/deepstream-app/config_tracker_NvSORT.yml

# ll-config-file=/opt/nvidia/deepstream/deepstream-7.1/samples/configs/deepstream-app/config_tracker_NvDeepSORT.yml   # (NVDeepSort uses a reID model which does not have an engine file built, need to install TAO-toolkit to build engine from the reID model .etlt file)

gpu-id=0

[tests]
file-loop=0